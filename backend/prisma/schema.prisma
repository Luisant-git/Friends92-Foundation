generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Admin {
  id                Int      @id @default(autoincrement())
  name              String   @unique
  email             String?  @unique
  password          String
  role              Role     @default(ADMIN)
  isActive          Boolean  @default(true)
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  banner            Banner[]
}

enum Role {
  ADMIN
  SUPER_ADMIN
}

model Banner{
  id                Int @id @default(autoincrement())
  title             String
  imageUrl          String
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  adminId           Int
  admin             Admin @relation(fields: [adminId],references: [id])
}


model Alumni {
  id                      Int        @id @default(autoincrement())
  name                    String
  email                   String?
  department              String
  year                    Int
  mobile                  String     @unique
  mobile2                 String?
  city                    String
  profession              String?
  serviceArea             String?
  bloodGroup              String?
  willingToDonateBlood    String?
  photo                   String?
  servicesCanProvide      String?
  companyName             String?
  designation             String?
  employeeDepartment      String?
  employeePlace           String?
  businessName            String?
  natureOfBusiness        String?
  businessPlace           String?
  businessAddress         String?
  permanentAddress        String?
  willingToProvideServices String?
  createdAt               DateTime    @default(now())
  updatedAt               DateTime   @updatedAt
}

model Gallery {
  id                 Int      @id @default(autoincrement())
  title             String
  categoryId        Int 
  category          Category @relation(fields: [categoryId],references: [id])
  imageUrl          String
  isVideo           Boolean  @default(false)
  createdAt         DateTime @default(now())
}

model Category {
  id        Int       @id @default(autoincrement())
  name      String    @unique
  gallery   Gallery[]
}


model Placement {
  id                  Int        @id @default(autoincrement())
  companyName         String
  companyDesc         String
  companyLocation     String
  jobTitle            String
  jobLocation         String
  jobDescription      String
  companyContactNumber String
  companyEmail        String
  skills              String[]   
  experience          Int
  status              Boolean    @default(true)

  createdAt           DateTime   @default(now())
  updatedAt           DateTime   @updatedAt
}

model Event {
  id          Int       @id @default(autoincrement())
  title       String
  description String
  content     String?
  eventDate   DateTime
  location    String?
  imageUrl    String?
  videoUrl    String?
  type        EventType @default(EVENT)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

enum EventType {
  EVENT
  NEWS
}

model Service {
  id          Int         @id @default(autoincrement())
  title       String
  description String
  content     String?
  imageUrl    String?
  type        ServiceType
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
}

enum ServiceType {
  SKILL_DEVELOPMENT
  PERSONALITY_DEVELOPMENT
}

model Volunteer {
  id                  Int      @id @default(autoincrement())
  name                String
  service             String
  mobile1             String
  mobile2             String?
  email               String   @unique
  password            String
  isActive            Boolean  @default(false)
  profession          String
  companyName         String?
  designation         String?
  companyDepartment   String?
  companyPlace        String?
  businessName        String?
  natureOfBusiness    String?
  businessPlace       String?
  businessAddress     String?
  permanentAddress    String
  servicesOffered     String
  photoUrl            String?
  tasks               Task[]
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
}

model Team {
  id          Int      @id @default(autoincrement())
  name        String
  phone       String?
  designation String?
  description String?
  imageUrl    String
  order       Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Trust {
  id           Int     @id @default(autoincrement())
  name         String
  imageUrl     String
  order        Int     @default(0)
  isActive     Boolean @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model Task {
  id              Int        @id @default(autoincrement())
  title           String
  description     String
  volunteerId     Int
  volunteer       Volunteer  @relation(fields: [volunteerId], references: [id])
  status          TaskStatus @default(PENDING)
  volunteerComment String?
  imageUrls       String[]
  impactTitle     String?
  impactDescription String?
  impactField     String?
  deadline        DateTime?
  taskType        String?
  createdAt       DateTime   @default(now())
  updatedAt       DateTime   @updatedAt
}

enum TaskStatus {
  PENDING
  IN_PROGRESS
  COMPLETED
  VERIFIED
}

model Report {
  id        Int      @id @default(autoincrement())
  year      String
  title     String
  size      String?
  fileUrl   String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Financial {
  id         Int      @id @default(autoincrement())
  category   String
  amount     String
  percentage Int
  year       String   @default("2023-24")
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

